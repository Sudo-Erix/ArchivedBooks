@echo off
chcp 65001 >nul
cls

echo ========================================================
echo ๐จ ุณุงุฎุช Installer ุขุฑุดู ฺฉุชุงุจโูุง ูู ฺฉุงูู
echo ๐จโ๐ผ ุชูุณุนูโุฏููุฏู: ุงูุฑ ูุฑุดุงุฏูุฑ
echo ๐ข ุดุฑฺฉุช ุฎุฏูุงุช ุฏุฑุง ู ุจูุฏุฑ ฺฉุงูู
echo ๐ ูุณุฎู: 2.0.0 - ฑดฐด
echo ========================================================
echo.

REM ุจุฑุฑุณ ูุฌูุฏ ูพุงุชูู
python --version >nul 2>&1
if errorlevel 1 (
    echo โ ุฎุทุง: ูพุงุชูู ุงูุช ูุดุฏ!
    echo.
    echo ๐ ุฑุงูฺฉุงุฑ:
    echo 1. ูพุงุชูู 3.8 ุง ุจุงูุงุชุฑ ุฑุง ุงุฒ python.org ุฏุงูููุฏ ฺฉูุฏ
    echo 2. ููฺฏุงู ูุตุจุ ฺฏุฒูู "Add Python to PATH" ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
    echo 3. ูพุณ ุงุฒ ูุตุจุ ุงู ุงุณฺฉุฑูพุช ุฑุง ูุฌุฏุฏุงู ุงุฌุฑุง ฺฉูุฏ
    echo.
    pause
    exit /b 1
)

echo โ ูพุงุชูู ูุตุจ ุดุฏู ุงุณุช
python --version

echo.
echo ๐ฆ ูุตุจ ูุงุจุณุชฺฏโูุง ููุฑุฏ ูุงุฒ...
echo ========================================================
pip install --upgrade pip
pip install -r requirements.txt

if errorlevel 1 (
    echo โ ุฎุทุง ุฏุฑ ูุตุจ ูุงุจุณุชฺฏโูุง!
    echo ูุทูุงู ุฏุณุชูุฑ ุฒุฑ ุฑุง ุจู ุตูุฑุช ุฏุณุช ุงุฌุฑุง ฺฉูุฏ:
    echo pip install -r requirements.txt
    echo.
    pause
    exit /b 1
)

echo.
echo โ ูุงุจุณุชฺฏโูุง ุจุง ููููุช ูุตุจ ุดุฏูุฏ
echo.
echo ๐๏ธ ุดุฑูุน ุณุงุฎุช Installer...
echo ========================================================

python build_installer.py

if errorlevel 1 (
    echo โ ุฎุทุง ุฏุฑ ุณุงุฎุช Installer!
    echo.
    echo ๐ ุนุจโุงุจ:
    echo 1. ูุทูุฆู ุดูุฏ Inno Setup ูุตุจ ุดุฏู ุงุณุช
    echo 2. ูุงู icon.ico ุฏุฑ ูพูุดู assets ูุฌูุฏ ุฏุงุฑุฏ
    echo 3. ูุถุง ฺฉุงู ุฑู ุฏุณฺฉ ูุฌูุฏ ุฏุงุฑุฏ
    echo.
    pause
    exit /b 1
)

echo.
echo ========================================================
echo ๐ ุณุงุฎุช Installer ุจุง ููููุช ุชฺฉูู ุดุฏ!
echo ========================================================
echo.
echo ๐ ูุงูโูุง ุชููุฏ ุดุฏู ุฏุฑ ูพูุดู 'installer' ูุฑุงุฑ ุฏุงุฑูุฏ:
echo.
dir /b "installer"
echo.
echo ๐ ุจุฑุง ูุตุจ ุจุฑูุงูู:
echo 1. ูุงู 'KavehBooks_Setup_2.0.0.exe' ุฑุง ุงุฌุฑุง ฺฉูุฏ
echo 2. ูุฑุงุญู ูุตุจ ุฑุง ุฏูุจุงู ฺฉูุฏ
echo 3. ุจุฑูุงูู ุงุฒ ููู ุงุณุชุงุฑุช ูุงุจู ุงุฌุฑุงุณุช
echo.
echo ๐ ุจุฑุง ูพุดุชุจุงู ุจุง ุงูุฑ ูุฑุดุงุฏูุฑ ุชูุงุณ ุจฺฏุฑุฏ
echo.
pause